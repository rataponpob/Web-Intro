<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Homepage</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="./style/admin_homepage.css" />
    <script src="https://kit.fontawesome.com/a2be86925b.js" crossorigin="anonymous"></script>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <h1>ระบบจัดการโครงงานพิเศษและโครงงานสหกิจ</h1>
        <h2>อาจารย์</h2>
    </header>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-role">
            <div class="nav-tab active">
                <i class="fa-solid fa-house"></i>
                <a href="professor_homepage.html"><span>หน้าแรก</span></a>
            </div>
            <div class="nav-tab">
                <i class="fa-solid fa-user"></i>
                <a href="user.html"><span>ข้อมูลผู้ใช้</span></a>
            </div>
            <div class="nav-tab logout">
                <i class="fa-solid fa-right-from-bracket"></i>
                <a href="index.html"><span>ออกจากระบบ</span></a>
            </div>
        </div>
    </nav>

    <!-- Content -->
    <main class="content">
        <!-- Top row -->
        <div class="top-row">
            <div class="card">
                <div class="card-top">
                    <p>ความก้าวหน้าของโครงงานนักศึกษา</p>
                    <i class="fa-solid fa-chart-simple clock-icon"></i>
                </div>

                <div class="card" id="project">
                    <div class="project">
                        <div class="project-head">
                            <p style="font-size: 16px; font-weight: 500">
                                เครื่องคัดแยกขยะอัจฉริยะ
                            </p>
                            <p class="txt" style="color: #9f9f9f">
                                6806022510297 นางสาว ฐิติรัตน์ แดงประเสริฐ
                            </p>
                        </div>
                        <div class="project-action">
                            <button class="action-btn" data-bs-toggle="modal" data-bs-target="#progressModal" onclick="setProjectInfo('เครื่องคัดแยกขยะอัจฉริยะ', 'รศ.ดร.อนิราช มิ่งขวัญ')">จัดการ</button>
                            <button class="action-btn" data-bs-toggle="modal" data-bs-target="#projectModal1">รายละเอียด</button>
                        </div>
                    </div>
                    <div class="progress-wrapper">
                        <div class="progress">
                            <div class="progress-bar progress-bar-custom" role="progressbar" style="width: 99%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
                                <span class="progress-text">99%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card" id="project">
                    <div class="project">
                        <div class="project-head">
                            <p style="font-size: 16px; font-weight: 500">
                                ระบบจัดการคลังสินค้า
                            </p>
                            <p class="txt" style="color: #9f9f9f">
                                6806022510238 นาย ธีรภัทร มังเทศ &nbsp; 6806022510289 นาย ลัทธพล ศิริหล้า
                            </p>
                        </div>
                        <div class="project-action">
                            <button class="action-btn">จัดการ</button>
                            <button class="action-btn" data-bs-toggle="modal" data-bs-target="#projectModal2">รายละเอียด</button>
                        </div>
                    </div>
                    <div class="progress-wrapper">
                        <div class="progress">
                            <div class="progress-bar progress-bar-custom" role="progressbar" style="width: 80%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
                                <span class="progress-text">80%</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="project">
                        <div class="project-head">
                            <p style="font-size: 16px; font-weight: 500">
                                ระบบยืม – คืนหนังสือห้องสมุด
                            </p>
                            <p class="txt" style="color: #9f9f9f">
                                6806022510041 นางสาวกนกวรรณ ศรีประไชย &nbsp; 6806022510050 นายนันทวัฒน์ นันทวิสาร
                            </p>
                        </div>
                        <div class="project-action">
                            <button class="action-btn">จัดการ</button>
                            <button class="action-btn" data-bs-toggle="modal" data-bs-target="#projectModal3">รายละเอียด</button>
                        </div>
                    </div>

                    <div class="progress-wrapper">
                        <div class="progress">
                            <div class="progress-bar progress-bar-custom" role="progressbar" style="width: 45%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
                                <span class="progress-text">45%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-top">
                <p>เอกสารที่รอลงนาม</p>
                <i class="fa-solid fa-chart-simple clock-icon"></i>
            </div>

            <div class="card" id="project">
                <div class="project">
                    <div class="project-head">
                        <p style="font-size: 16px; font-weight: 500">
                            เครื่องคัดแยกขยะอัจฉริยะ
                        </p>
                        <p class="txt" style="color: #9f9f9f">
                            6806022510297 นางสาว ฐิติรัตน์ แดงประเสริฐ
                        </p>
                    </div>
                    <div class="project-action">
                        <a href="#"><button class="action-btn">ดาวน์โหลด</button></a>
                        <button class="action-btn" data-bs-toggle="modal" data-bs-target="#confirmSignModal">ลงนาม</button>

                    </div>
                </div>
            </div>

            <div class="card" id="project">
                <div class="project">
                    <div class="project-head">
                        <p style="font-size: 16px; font-weight: 500">
                            ระบบจัดการคลังสินค้า
                        </p>
                        <p class="txt" style="color: #9f9f9f">
                            6806022510238 นาย ธีรภัทร มังเทศ &nbsp; 6806022510289 นาย ลัทธพล ศิริหล้า
                        </p>
                    </div>
                    <div class="project-action">
                        <a href="#"><button class="action-btn">ดาวน์โหลด</button></a>
                        <button class="action-btn" data-bs-toggle="modal" data-bs-target="#confirmSignModal">ลงนาม</button>

                    </div>
                </div>

            </div>

            <div class="card">
                <div class="project">
                    <div class="project-head">
                        <p style="font-size: 16px; font-weight: 500">
                            เครื่องระงับความเครียด
                        </p>
                        <p class="txt" style="color: #9f9f9f">
                            6806022510203 นายกฤษนัย โถมสันเทียะ
                        </p>
                    </div>
                    <div class="project-action">
                        <a href="#"><button class="action-btn">ดาวน์โหลด</button></a>
                        <button class="action-btn" data-bs-toggle="modal" data-bs-target="#confirmSignModal">ลงนาม</button>

                    </div>
                </div>


            </div>
        </div>
        </div>
    </main>

    <!-- ====== MODAL 1 ====== -->
    <div class="modal fade" id="projectModal1" tabindex="-1" aria-labelledby="projectModalLabel1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-dark text-white">
                    <h5 class="modal-title">รายละเอียดโครงงาน: เครื่องคัดแยกขยะอัจฉริยะ</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p><strong>ชื่อโครงงาน (อังกฤษ):</strong> Smart Waste Sorting Machine</p>
                    <p><strong>ประเภทโครงงาน:</strong> โครงงานพิเศษ</p>

                    <p><strong>สมาชิกในกลุ่ม:</strong></p>
                    <ul>
                        <li>6806022510297 นางสาว ฐิติรัตน์ แดงประเสริฐ</li>
                    </ul>

                    <p><strong>อาจารย์ที่ปรึกษา:</strong> รศ.ดร.อนิราช มิ่งขวัญ</p>
                    <hr>

                    <p><strong>วัตถุประสงค์ของโครงงาน:</strong></p>
                    <ul>
                        <li>เพื่อพัฒนาเครื่องคัดแยกขยะโดยอัตโนมัติด้วยเทคโนโลยี AI</li>
                        <li>เพื่อช่วยลดภาระงานของเจ้าหน้าที่และเพิ่มประสิทธิภาพในการคัดแยกขยะ</li>
                    </ul>

                    <p><strong>รายละเอียด:</strong></p>
                    <p>โครงงานนี้เป็นการพัฒนาเครื่องคัดแยกขยะโดยใช้เซนเซอร์ตรวจจับวัสดุและกล้อง AI เพื่อจำแนกประเภทขยะ เช่น ขวดพลาสติก โลหะ หรือกระดาษ และส่งไปยังถังที่ถูกต้องโดยอัตโนมัติ</p>

                    <p><strong>ขอบเขตของโครงงาน:</strong></p>
                    <ul>
                        <li>ระบบสามารถจำแนกขยะได้ 3 ประเภท: พลาสติก โลหะ และกระดาษ</li>
                        <li>มีหน้าจอแสดงผลชนิดขยะและปริมาณขยะในแต่ละถัง</li>
                        <li>ไม่ครอบคลุมขยะอินทรีย์หรือขยะอันตราย</li>
                    </ul>

                    <p><strong>ไฟล์แนบ:</strong> <a href="#">แบบรายงานความก้าวหน้าครั้งที่1.pdf</a>
                        <a href="#">แบบรายงานความก้าวหน้าครั้งที่2.pdf</a>
                        <a href="#">แบบรายงานความก้าวหน้าครั้งที่3.pdf</a>
                        <a href="#">แบบรายงานความก้าวหน้าครั้งที่4.pdf</a>
                        <a href="#">แบบรายงานความก้าวหน้าครั้งที่5.pdf</a>
                        <a href="#">แบบรายงานความก้าวหน้าครั้งที่6.pdf</a>
                        <a href="#">แบบรายงานความก้าวหน้าครั้งที่7.pdf</a></p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">ปิด</button>
                </div>
            </div>
        </div>
    </div>
    <!-- ====== MODAL 2 ====== -->
    <div class="modal fade" id="projectModal2" tabindex="-1" aria-labelledby="projectModalLabel2" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-dark text-white">
                    <h5 class="modal-title">รายละเอียดโครงงาน: ระบบจัดการคลังสินค้า</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p><strong>ชื่อโครงงาน (อังกฤษ):</strong> Warehouse Management System</p>
                    <p><strong>ประเภทโครงงาน:</strong> โครงงานพิเศษ</p>

                    <p><strong>สมาชิกในกลุ่ม:</strong></p>
                    <ul>
                        <li>6806022510238 นาย ธีรภัทร มังเทศ</li>
                        <li>6806022510289 นาย ลัทธพล ศิริหล้า</li>
                    </ul>

                    <p><strong>อาจารย์ที่ปรึกษา:</strong> ผศ.ดร.บีสุดา ดาวเรือง</p>
                    <hr>

                    <p><strong>วัตถุประสงค์ของโครงงาน:</strong></p>
                    <ul>
                        <li>เพื่อพัฒนาระบบบริหารจัดการสินค้าภายในคลังแบบเรียลไทม์</li>
                        <li>เพื่อลดข้อผิดพลาดในการบันทึกและค้นหาข้อมูลสินค้า</li>
                    </ul>

                    <p><strong>รายละเอียด:</strong></p>
                    <p>ระบบจัดการคลังสินค้านี้ช่วยให้ผู้ใช้สามารถจัดเก็บ บันทึก นำเข้า และตรวจสอบสินค้าภายในคลังได้อย่างมีประสิทธิภาพ พร้อมระบบรายงานสรุปยอดสินค้าและการแจ้งเตือนสินค้าใกล้หมดอัตโนมัติ
                    </p>

                    <p><strong>ขอบเขตของโครงงาน:</strong></p>
                    <ul>
                        <li>รองรับการเพิ่ม แก้ไข ลบ และค้นหาข้อมูลสินค้า</li>
                        <li>มีระบบล็อกอินสำหรับผู้ดูแลระบบเท่านั้น</li>
                        <li>ไม่ครอบคลุมระบบจัดการการเงินหรือการขนส่งสินค้า</li>
                    </ul>
                    <p><strong>ไฟล์แนบ:</strong> <a href="#">แบบรายงานความก้าวหน้าครั้งที่1.pdf</a>
                        <a href="#">แบบรายงานความก้าวหน้าครั้งที่2.pdf</a>
                        <a href="#">แบบรายงานความก้าวหน้าครั้งที่3.pdf</a>
                        <a href="#">แบบรายงานความก้าวหน้าครั้งที่4.pdf</a>
                    </p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">ปิด</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ====== MODAL 3 ====== -->
    <div class="modal fade" id="projectModal3" tabindex="-1" aria-labelledby="projectModalLabel3" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-dark text-white">
                    <h5 class="modal-title">รายละเอียดโครงงาน: ระบบยืม – คืนหนังสือห้องสมุด</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p><strong>ชื่อโครงงาน (อังกฤษ):</strong> Library Borrowing and Returning System</p>
                    <p><strong>ประเภทโครงงาน:</strong> โครงงานสหกิจศึกษา</p>

                    <p><strong>สมาชิกในกลุ่ม:</strong></p>
                    <ul>
                        <li>6806022510041 น.ส.กนกวรรณ ศรีประไชย</li>
                        <li>6806022510050 นายนันทวัฒน์ นันทวิสาร</li>
                    </ul>

                    <p><strong>อาจารย์ที่ปรึกษา:</strong> ผศ.ดร.พาฝัน ดวงไพศาล</p>
                    <hr>

                    <p><strong>วัตถุประสงค์ของโครงงาน:</strong></p>
                    <ul>
                        <li>เพื่อพัฒนาระบบยืม-คืนหนังสืออัตโนมัติสำหรับห้องสมุด</li>
                        <li>เพื่อให้ผู้ใช้สามารถตรวจสอบสถานะหนังสือและประวัติการยืมได้ง่ายขึ้น</li>
                    </ul>

                    <p><strong>รายละเอียด:</strong></p>
                    <p>ระบบนี้ช่วยให้เจ้าหน้าที่สามารถจัดการข้อมูลหนังสือ การยืม-คืน และสถิติการใช้งานของผู้ใช้ได้สะดวกขึ้น มีฟังก์ชันแจ้งเตือนกำหนดคืนหนังสืออัตโนมัติผ่านระบบออนไลน์
                    </p>

                    <p><strong>ขอบเขตของโครงงาน:</strong></p>
                    <ul>
                        <li>รองรับการยืม-คืนหนังสือผ่านระบบเว็บแอปพลิเคชัน</li>
                        <li>แสดงข้อมูลหนังสือ สถานะ และประวัติการยืมของสมาชิก</li>
                        <li>ไม่รวมระบบจองหนังสือหรือการเชื่อมต่อกับฐานข้อมูลสถาบันภายนอก</li>
                    </ul>

                    <p><strong>ไฟล์แนบ:</strong> <a href="#">รายงานความก้าวหน้าครั้งที่1.pdf</a> <a href="#">รายงานความก้าวหน้าครั้งที่2.pdf</a></p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">ปิด</button>
                </div>
            </div>
        </div>
    </div>
    <!-- ✅ Modal ฟอร์มกรอกความก้าวหน้า -->
    <div class="modal fade" id="progressModal" tabindex="-1" aria-labelledby="progressModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="progressModalLabel">อัปเดตความก้าวหน้าโครงงาน</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <form id="progressForm">
                        <div class="mb-3">
                            <label for="projectName" class="form-label">ชื่อโครงงาน</label>
                            <input type="text" class="form-control" id="projectName" readonly />
                        </div>

                        <div class="mb-3">
                            <label for="progressPercent" class="form-label">ความก้าวหน้าสัปดาห์นี้ (%)</label>
                            <input type="number" class="form-control" id="progressPercent" placeholder="0 - 100" min="0" max="100" required />
                        </div>

                        <div class="mb-3">
                            <label for="progressComment" class="form-label">ความคิดเห็นของอาจารย์</label>
                            <textarea class="form-control" id="progressComment" rows="3" placeholder="ใส่ความคิดเห็น..."></textarea>
                        </div>
                    </form>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">ยกเลิก</button>
                    <button type="button" class="btn btn-success" id="saveProgressBtn">ยืนยัน</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal ยืนยันการลงนาม -->
    <div class="modal fade" id="confirmSignModal" tabindex="-1" aria-labelledby="confirmSignModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-dark text-white">
                    <h5 class="modal-title" id="confirmSignModalLabel">ยืนยันการลงนาม</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body text-center">
                    คุณต้องการลงนามในเอกสารนี้หรือไม่?
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="btn btn-danger rounded-pill" data-bs-dismiss="modal">ยกเลิก</button>
                    <button type="button" class="btn btn-success rounded-pill" id="confirmSignBtn">ยืนยัน</button>
                </div>
            </div>
        </div>
    </div>
</body>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/a2be86925b.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    // ✅ เมื่อกดปุ่ม "จัดการ"
    const manageButtons = document.querySelectorAll(".action-btn:first-child"); // ปุ่มจัดการ
    const projectNameField = document.getElementById("projectName");

    manageButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
            // หาชื่อโปรเจกต์จากการ์ดนั้น
            const projectCard = btn.closest(".card");
            const projectName = projectCard.querySelector(".project-head p").textContent.trim();

            // ใส่ชื่อโปรเจกต์ในฟอร์ม
            projectNameField.value = projectName;

            // แสดง modal
            const modal = new bootstrap.Modal(document.getElementById("progressModal"));
            modal.show();
        });
    });

    // ✅ เมื่อกดยืนยันใน Modal
    document.getElementById("saveProgressBtn").addEventListener("click", () => {
        const percent = document.getElementById("progressPercent").value;
        const comment = document.getElementById("progressComment").value;
        const project = document.getElementById("projectName").value;

        if (percent === "" || percent < 1 || percent > 100) {
            Swal.fire({
                icon: "warning",
                title: "กรุณากรอกเปอร์เซ็นต์ให้ถูกต้อง (1-100)",
            });
            return;
        }

        // ปิด Modal
        const modalElement = document.getElementById("progressModal");
        const modal = bootstrap.Modal.getInstance(modalElement);
        modal.hide();

        // รีเซ็ตฟอร์ม
        document.getElementById("progressForm").reset();

        // แสดงแจ้งเตือน แล้วรีเฟรชหน้า
        Swal.fire({
            icon: "success",
            title: "บันทึกสำเร็จแล้ว!",
            text: `โครงงาน "${project}" ก้าวหน้า + ${percent}%`,
            showConfirmButton: false,
            timer: 1500,
        }).then(() => {
            // รีเฟรชหน้าเว็บ
            location.reload();
        });
    });

    const confirmBtn = document.getElementById("confirmSignBtn");

    confirmBtn.addEventListener("click", function() {
        // ปิด modal ก่อน
        const modal = bootstrap.Modal.getInstance(document.getElementById('confirmSignModal'));
        modal.hide();

        // แสดง SweetAlert
        Swal.fire({
            icon: "success",
            title: "ลงนามเอกสารเรียบร้อย",
            text: "คุณได้ลงนามในเอกสารนี้แล้ว",
            confirmButtonText: "ตกลง",
            confirmButtonColor: "#000"
        });
    });
</script>

</html>